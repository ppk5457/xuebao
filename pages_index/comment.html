<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta name="apple-mobile-web-app-capable" content="yes">
		<title>发表评论</title>
		<script type="text/javascript" src="../js/zoom/flexible.js" ></script>
		<link href="../css/mui.min.css" rel="stylesheet" />
		<style>
			.content_course{
				padding: 4% 5%;
				border-bottom:2px solid rgba(220,220,220,.5);
				font-size: 0.416666rem;
				color: #555555;
				background-color: #FEFEFE;
			}
			.content_comment{
				padding: 4% 0;
				border-bottom:2px solid rgba(220,220,220,.5);
				font-size: 0.416666rem;
				color: #555555;
				background-color: #FEFEFE;
				display: flex;
				align-items: center;
				justify-content: space-between;
			}
			.content_comment > span{
				width: 20%;
				text-align: center;
			}
			.comment_btn{
				width: 80%;
				text-align: right;
				padding-right: 5%;
			}
			.comment_btn span{
				padding-bottom: 0.067777rem;
			}
			.evaluate_btn{
				color: rgb(190,190,190);
				border: 1px solid rgb(190,190,190);
				padding: 0.061666rem 0.369444rem;
				border-radius: 18px;
				margin: 0 1%;
			}
			.content_textarea{
				border: none;
				height: 5.388888rem;
			}
			/*调整placeholder （兼容？）*/
			.content_textarea::-webkit-input-placeholder{
			    color: #888888;
			    font-size: 0.388888rem;
			}
			
			.add_btn{
				color: rgb(27,130,209) !important;
				border:1px solid rgb(27,130,209) !important;
			}
		</style>
	</head>

	<body>
		<div class="content">
			<div class="content_course">对本节课授课老师做个评价</div>
			<div class="content_comment">
				<span>满意度</span>
				<div class="comment_btn" id="list_ul">
					<span class="add_btn evaluate_btn" data-type="2">非常满意</span>
					<span class="evaluate_btn" data-type="1">满意</span>
					<span class="evaluate_btn" data-type="0">不满意</span>					
				</div>
			</div>
			<div class="comment_text">
				<textarea class="content_textarea" id="commit_text" placeholder="对老师做出文字评论，该评论会显示在老师详情页。"></textarea>
			</div>
		</div>
		<script src="../js/mui.min.js"></script>
		<script type="text/javascript" src="../js/config.js" ></script>
		<script type="text/javascript" src="../js/vue.min.js" ></script>
		<script type="text/javascript" src="../js/hmac-sha1.js" ></script>
		<script type="text/javascript" src="../js/login_config.js" ></script>
		<script type="text/javascript" src="../js/ajax.js" ></script>
		<script type="text/javascript">
			mui.init();
			mui.plusReady(function () {
			    //监听返回
			    listenReturn();
			    listenReturnRight('评价');
			    var self = plus.webview.currentWebview();
			    var teacherId = self.teacherId;
			    var perfect = '2';
			    var view = self.getTitleNView();
			    var commit_text = document.getElementById("commit_text");
			    view.addEventListener("click", function(e) {
				if(screen.width - e.clientX <= 60){
						//事件逻辑处理
						var ajaxData = {
							url:'restful1/course/getCourseFeedbackByStudentId',
							data: {
//								perfect,
//								commit_text.value
//								teacherId
							},
							type:'post'
						}
						ajax(ajaxData, function(data) {
							console.log('请求数据',JSON.stringify(data))
								if(data.code == 401){
									plus.nativeUI.toast('您还未登录哟！');
								}else if(data.code == 200){
									vm.feedDetail = data.data;
								}else{
									plus.nativeUI.toast('请求超时！');
								}
						},true);
					}
				}, false);
			    //单选框
			   var list_ul = document.getElementById("list_ul");
			   var list_li = document.getElementsByClassName('evaluate_btn');
			   mui('.comment_btn').on('tap','.evaluate_btn',function(){
				   	for(var i=0;i<list_li.length;i++){
				   		list_li[i].classList.remove('add_btn');
				   	}
				   	var that = this;
				   	perfect = that.getAttribute('data-type');
				   	if(that.classList.contains('add_btn')){
				   		that.classList.remove('add_btn');
				   	}else{
				   		that.classList.add('add_btn');
				   	}	
			   })
			})
		</script>
	</body>

</html>