<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<meta charset="UTF-8">
		<link href="../css/mui.min.css" rel="stylesheet" />
		<style>
			ul {
				padding: 0;
				list-style: none;
				font-size: 20px;
			}
			
			#date-box {
				background: #FEFEFE;
				color: #000000;
				font-family: 微软雅黑;
				width: 100%;
			}
			
			#now {
				text-align: center;
			}
			
			#week-list:after,
			#date-list:after {
				display: table;
				content: '';
				clear: both;
			}
			
			#week-list li,
			#date-list li {
				width: 14.2857%;
				text-align: center;
				float: left;
				padding: 10px 0;
			}
		</style>
	</head>

	<body>
		<div id="date-box">
			<div id="now">

			</div>
			<ul id="week-list">
				<li data-week="日">日</li>
				<li data-week="一">一</li>
				<li data-week="二">二</li>
				<li data-week="三">三</li>
				<li data-week="四">四</li>
				<li data-week="五">五</li>
				<li data-week="六">六</li>
			</ul>
			<ul id="date-list">

			</ul>
		</div>
		<script src="../js/mui.min.js"></script>
		<script>
			//将单位数前加0
			function todu(n) {
				if(n < 10) {
					return '0' + n;
				} else {
					return '' + n;
				}
			}
			//显示当前时间
			var date = new Date();
			showdate(date);
			console.log(date.getDate())
			//封装获取日期列表的函数
			function showdate(date) {

				//当前年月
				document.getElementById('now').innerHTML = todu(date.getFullYear()) + '年' + todu(date.getMonth() + 1) + '月';
				//当前是周几
				date.setDate(1);
				var week = date.getDay();
				/* 返回当月的天数 */
				var nowDay = getCountDays();
				//设置月份
				date.setMonth(date.getMonth() + 1);
				//设置一个月的某一天
				date.setDate(0);
				//返回月份的某一天
				var maxdate = date.getDate();

				//当前月第一天是周几，并在前面空上相应的li
				var html = '';
				for(var i = 1; i < week; i++) {
					html += '<li></li>';
				}

				//输出每天的li
				for(var j = 1; j <= nowDay + 1; j++) {
					html += '<li class="date_day"  date-day="' + j + '">' + j + '</li>'
				}
				//获取当前周几
				var str = "今天是星期" + "日一二三四五六".charAt(new Date().getDay());

				//将内容写到ul中
				document.getElementById('date-list').innerHTML = html;
			}

			function getCountDays() {
				var curDate = new Date();
				/* 获取当前月份 */
				var curMonth = curDate.getMonth();
				/*  生成实际的月份: 由于curMonth会比实际月份小1, 故需加1 */
				curDate.setMonth(curMonth + 1);
				/* 将日期设置为0, 这里为什么要这样设置, 我不知道原因, 这是从网上学来的 */
				curDate.setDate(0);
				return curDate.getDate();
			}
		</script>
		<script type="text/javascript">
			mui.init();
			mui.plusReady(function() {
				mui('#date-list').on('tap', '.date_day', function() {
					//			var day = this.getAttribute('date-day');
				})
			})
		</script>
	</body>

</html>